<html>
<head>
<title>LD-splash</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="./stylesheets/all.css" />

<script>window.config = {}</script>
<script src="./javascripts/common.js"></script>
<script src="./javascripts/splash.js"></script>

</head>
<body>
<style>

.splash-logo {
    position: absolute;
    left: 25%;
    width: 50%;
    margin-top: 180px;
    transition-duration: 500ms;
    transition-timing-function: ease;
    opacity: 0;
}

@-webkit-keyframes logo-anim {
    0%   { opacity: 0; transform: translate(0, -10px); }
    25%  { opacity: 1; transform: translate(0,     0); }
    75%  { opacity: 1; transform: translate(0,     0); }
    100% { opacity: 0; transform: translate(0,  10px); }
}

</style>

<script>


pages = window.pages || {};
pages.splash = (function () {
    var exports = {};

    exports.main = function () {

        wait(100)
            .then(logoAnim('images/kt3k-studio-v3.svg'))
            .then(logoAnim('images/straw-logo.svg'))
            .then(goToTitle);

    };

    var goToTitle = function () {
        location.href = 'title.html';
    };

    var logoAnim = function (path, dur) {
        dur = dur || 1800;

        return function () {

            return loadImage(path, 'splash-logo', document.body).then(function ($img) {

                $img.css('-webkit-animation', 'logo-anim ' + dur + 'ms');

                return wait(dur).then(function () { $img.remove(); });

            });

        };
    };

    return exports;

}());

$(pages.splash.main);

</script>

</body>
</html>
